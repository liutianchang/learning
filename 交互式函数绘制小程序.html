<!doctype html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">
    <title>简单的JavaScript函数绘制小程序</title>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="https://mauriciopoppe.github.io/function-plot/js/function-plot.js"></script>
</head>

<body onload="plot();">
    <style type="text/css">
    section {
        border: 4px solid grey;
        border-radius: 15px;
        box-shadow: 5px 5px 5px grey;
        float: left;
        height: 360px;
        padding: 20px;
        margin: 10px;
    }

    #plotsettings {
        width: 120px;
    }

    #plot {
        width: 550px;
    }
    </style>
    <h2>交互式函数绘制小程序</h2>
    <section id="plotSettings">
        <label for="xMin">xMin: </label> value:
        <input type=number id="xMin" value=0 step=0.5 oninput="plot();">
        <p></p>
        <label for="xMax">xMax: </label> value:
        <input type=number id="xMax" value=6.28 step=0.5 oninput="plot();">
        <p></p>
        <label for="yMin">yMin: </label> value:
        <input type=number id="yMin" value=-1 step=0.5 oninput="plot();">
        <p></p>
        <label for="yMax">yMax: </label> value:
        <input type=number id="yMax" value=1 step=0.5 oninput="plot();">
        <p></p>
        <label for="color">Color: </label> value:
        <input type=color id="color" onchange="plot();">
        <p></p>
        <label for="function">绘图函数：</label>
        <input id="function" type="text" value="sin(x)" onchange="plot();">
        <p></p>
        <button onclick="plot();">绘图吧，少年！</button>
    </section>
    <section id="plot">
        <div id="myFunction">
            <script>
            var parameters = { target: '#myFunction', data: [{ fn: 'sin(x)', color: 'red' }], grid: true, yAxis: { domain: [-1, 1] }, xAxis: { domain: [0, 2 * Math.PI] } };

            function plot() {
                var f = document.querySelector("#function").value;
                var xMin = document.querySelector("#xMin").value;
                var xMax = document.querySelector("#xMax").value;
                var yMin = document.querySelector("#yMin").value;
                var yMax = document.querySelector("#yMax").value;
                var color = document.querySelector("#color").value;
                parameters.data[0].fn = f;
                parameters.xAxis.domain = [xMin, xMax];
                parameters.yAxis.domain = [yMin, yMax];
                parameters.data[0].color = color;
                functionPlot(parameters);
            }
            </script>
        </div>
    </section>
</body>

</html>